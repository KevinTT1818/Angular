<header class="header">
  <div class="container">
    <div class="header-content">
      <!-- Logo -->
      <div class="logo">
        <a routerLink="/home" class="logo-link">
          <span class="logo-chinese">花未眠</span>
          <span class="logo-english">HUAWEIMIAN</span>
        </a>
      </div>

      <!-- Navigation -->
      <nav class="nav" [class.nav-open]="isMenuOpen">
        <a routerLink="/home" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="nav-link">HOME</a>
        <a routerLink="/blogs" routerLinkActive="active" class="nav-link">TALKS</a>
        <a routerLink="/about" routerLinkActive="active" class="nav-link">ABOUT</a>
        <a routerLink="/archives" routerLinkActive="active" class="nav-link">ARCHIVES</a>
        <a routerLink="/tags" routerLinkActive="active" class="nav-link">TAGS</a>
        <a routerLink="/message" routerLinkActive="active" class="nav-link">MESSAGE</a>
        <a routerLink="/friends" routerLinkActive="active" class="nav-link">FRIENDS</a>
        <a routerLink="/photos" routerLinkActive="active" class="nav-link">PHOTOALBUMS</a>
      </nav>

      <!-- Right Actions -->
      <div class="header-actions">
        <!-- Search -->
        <button class="action-btn" type="button" title="Search">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16zM19 19l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>

        <!-- Language -->
        <button class="action-btn lang-btn" type="button">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M10 1a9 9 0 1 0 0 18 9 9 0 0 0 0-18zM1 10h18M10 1c2.5 3 2.5 7 0 9m0 0c-2.5-3-2.5-7 0-9m0 0v18" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
          <span>EN</span>
        </button>

        <!-- Login/User -->
        @if (isLoggedIn()) {
          <div class="user-menu">
            @if (currentUser()?.avatar) {
              <img [src]="currentUser()?.avatar" [alt]="currentUser()?.name" class="user-avatar">
            }
            <button class="logout-btn" (click)="logout()" type="button">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                <path d="M6 14H3a1 1 0 01-1-1V3a1 1 0 011-1h3M11 11l3-3-3-3M14 8H6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              登出
            </button>
          </div>
        } @else {
          <a routerLink="/login" class="login-btn">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none">
              <path d="M12 14h3a1 1 0 001-1V3a1 1 0 00-1-1h-3M9 13l4-4-4-4M13 9H1" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            LOGIN
          </a>
        }

        <!-- Theme Toggle -->
        <button class="action-btn theme-toggle" type="button" title="Toggle theme">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M10 3V1M10 19v-2M17 10h2M1 10h2M15.66 4.34l1.41-1.41M2.93 17.07l1.41-1.41M15.66 15.66l1.41 1.41M2.93 2.93l1.41 1.41" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <circle cx="10" cy="10" r="3" stroke="currentColor" stroke-width="2"/>
          </svg>
        </button>
      </div>

      <!-- Mobile Menu Toggle -->
      <button class="menu-toggle" (click)="toggleMenu()" [attr.aria-label]="'菜单'">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </div>
</header>
